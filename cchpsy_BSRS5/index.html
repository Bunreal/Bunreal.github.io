<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒæƒ…æº«åº¦è¨ˆ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap" rel="stylesheet">
    <style>
      *{
        padding: 0;
        margin: 0;
        list-style: none;
        box-sizing: border-box;
        font-family: 'Noto Sans TC', sans-serif;
        
      }
      ul{
        width: 100%;
        display: block;
        border-collapse: collapse;
      }
      .thead{display: table-header-group;}
      .tr{display: table-row;}
      .tbody{display: table-row-group;}
      .thead li, .tr li{
        display: table-cell;
        padding: 5px;
        border: 1px solid #aaa;
      }
      .thead li{
        text-align: center;
        font-weight:500;
      }

      .tbody li{
        text-align: center;
      }
      .tbody li:nth-child(7n-5){
        text-align: left;
      }
      

      @media only screen and (max-width:768px){
        .thead{
          display: none;
        }

        .tr{
          display: block;
          border: rgb(239, 247, 235) 5px solid;
          border-radius: 8px;
          margin-bottom: 10px;
        }
        .tr li{
          display: flex;
          width: 100%;
          align-items: center;
        }
        .tr li:before{
          content: attr(data-title);
          display: inline-block;
          width: auto;
          min-width: 40%;
          padding-right: 1rem;
          color:rgb(102, 102, 94);
        }
        .tr li:nth-child(7n-5):before{
          min-width: 20%;
        }
        .tr li:nth-child(7n-6):before{
          min-width: 20%;
        }

        .tbody li{
          text-align: left;
        }

      }
      header, footer{
        padding: 20px;
        margin: 20px;       
      }
      header{
        display: grid;
        justify-content: center;
      }
      section{
        display: grid;
        justify-content: center;
        padding: 20px;
        margin: 20px;
      }
      .intro, .results{
        background-color: rgb(239, 247, 235);
        ;
      }
      #sum{
        font-size:xx-large;
      }
 
      table, td, tr, th{
        border: #aaa 1px solid;
        border-collapse: collapse;
      }
      table{
        margin: 10px;
        padding: 10px;
        text-align:center
      }
      table td:nth-child(even) {
        text-align: left;
      }
      th,td{
        padding: 5px;
      }
    </style>
</head>
<body>
    <header>
      <h1>å¿ƒæƒ…æº«åº¦è¨ˆ</h1>
      <h2>(Brief Symptom Rating Scale, BSRS-5)</h2>
    </header>
    <section class="intro" >
      <div style="max-width: 600px;">
        èªªæ˜ï¼š<br>
        è«‹ä½ ä»”ç´°å›æƒ³åœ¨éå»çš„é€™ä¸€æ˜ŸæœŸä¸­(åŒ…æ‹¬ä»Šå¤©)ï¼Œé€™äº›å•é¡Œä½¿ä½ æ„Ÿåˆ°å›°æ“¾æˆ–è‹¦æƒ±çš„ç¨‹åº¦ï¼Œç„¶å¾Œé¸ä¸€å€‹ä½ èªç‚ºæœ€èƒ½ä»£è¡¨ä½ æ„Ÿè¦ºçš„ç­”æ¡ˆã€‚
      </div>
    </section>
    <section>
      <ul>
        <li class="thead">
          <ol class="tr">
              <li>ç·¨è™Ÿ</li>
              <li>é¡Œç›®</li>
              <li>å®Œå…¨æ²’æœ‰</li>
              <li>è¼•å¾®</li>
              <li>ä¸­ç­‰ç¨‹åº¦</li>
              <li>å²å®³</li>
              <li>éå¸¸å²å®³</li>
          </ol>
        </li>
        <li class="tbody">
          <ol class="tr">
              <li data-title="ç·¨è™Ÿ">1</li>
              <li data-title="é¡Œç›®">ç¡çœ å›°é›£ï¼Œè­¬å¦‚é›£ä»¥å…¥ç¡ã€æ˜“é†’æˆ–æ—©é†’ã€‚</li>
              <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item1" value="0"></li>
              <li data-title="è¼•å¾®"><input type="radio" name="item1" value="1"></li>
              <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item1" value="2"></li>
              <li data-title="å²å®³"><input type="radio" name="item1" value="3"></li>
              <li data-title="éå¸¸å²å®³"><input type="radio" name="item1" value="4"></li>
          </ol>
          <ol class="tr">
              <li data-title="ç·¨è™Ÿ">2</li>
              <li data-title="é¡Œç›®">æ„Ÿè¦ºç·Šå¼µä¸å®‰ã€‚</li>
              <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item2" value="0"></li>
              <li data-title="è¼•å¾®"><input type="radio" name="item2" value="1"></li>
              <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item2" value="2"></li>
              <li data-title="å²å®³"><input type="radio" name="item2" value="3"></li>
              <li data-title="éå¸¸å²å®³"><input type="radio" name="item2" value="4"></li>
          </ol>
          <ol class="tr">
              <li data-title="ç·¨è™Ÿ">3</li>
              <li data-title="é¡Œç›®">è¦ºå¾—å®¹æ˜“è‹¦æƒ±æˆ–å‹•æ€’ã€‚</li>
              <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item3" value="0"></li>
              <li data-title="è¼•å¾®"><input type="radio" name="item3" value="1"></li>
              <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item3" value="2"></li>
              <li data-title="å²å®³"><input type="radio" name="item3" value="3"></li>
              <li data-title="éå¸¸å²å®³"><input type="radio" name="item3" value="4"></li>
          </ol>
          <ol class="tr">
            <li data-title="ç·¨è™Ÿ">4</li>
            <li data-title="é¡Œç›®">æ„Ÿè¦ºæ†‚é¬±ã€å¿ƒæƒ…ä½è½ã€‚</li>
            <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item4" value="0"></li>
            <li data-title="è¼•å¾®"><input type="radio" name="item4" value="1"></li>
            <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item4" value="2"></li>
            <li data-title="å²å®³"><input type="radio" name="item4" value="3"></li>
            <li data-title="éå¸¸å²å®³"><input type="radio" name="item4" value="4"></li>
          </ol>
          <ol class="tr">
            <li data-title="ç·¨è™Ÿ">5</li>
            <li data-title="é¡Œç›®">è¦ºå¾—æ¯”ä¸ä¸Šåˆ¥äººã€‚</li>
            <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item5" value="0"></li>
            <li data-title="è¼•å¾®"><input type="radio" name="item5" value="1"></li>
            <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item5" value="2"></li>
            <li data-title="å²å®³"><input type="radio" name="item5" value="3"></li>
            <li data-title="éå¸¸å²å®³"><input type="radio" name="item5" value="4"></li>
          </ol>
          <ol class="tr">
            <li data-title="ç·¨è™Ÿ">6</li>
            <li data-title="é¡Œç›®">æœ‰è‡ªæ®ºçš„æƒ³æ³•ã€‚</li>
            <li data-title="å®Œå…¨æ²’æœ‰"><input type="radio" name="item6" value="0"></li>
            <li data-title="è¼•å¾®"><input type="radio" name="item6" value="1"></li>
            <li data-title="ä¸­ç­‰ç¨‹åº¦"><input type="radio" name="item6" value="2"></li>
            <li data-title="å²å®³"><input type="radio" name="item6" value="3"></li>
            <li data-title="éå¸¸å²å®³"><input type="radio" name="item6" value="4"></li>
          </ol>
        </li>
      </ul>
    </section>
    <section class='results'>
        <div>ç¸½åˆ†ï¼š<span id="sum"></span></div>
        <div id="res"></div>
        <dic id="sui"></dic>
    </section>
    <section>
      <h3>å¿ƒæƒ…æº«åº¦è¨ˆåˆ†æ•¸èªªæ˜</h3>
      <table>
        <tr>
          <th>ç¬¬1-5é¡Œç¸½åˆ†</th>
          <th>èªªæ˜</th>
        </tr>
        <tr>
          <td>0 - 5åˆ†</td>
          <td>èº«å¿ƒé©æ‡‰ç‹€æ³è‰¯å¥½</td>
        </tr>
        <tr>
          <td>6 - 9åˆ†</td>
          <td>è¼•åº¦æƒ…ç·’å›°æ“¾ï¼Œä½ å¯ä»¥æ‰¾è¦ªå‹è«‡è«‡ã€åšä¸€äº›å¯ä»¥æŠ’ç™¼æƒ…ç·’çš„æ´»å‹•</td>
        </tr>
        <tr>
          <td>10 - 14åˆ†</td>
          <td>ä¸­åº¦æƒ…ç·’å›°æ“¾ï¼Œå»ºè­°ä½ å°‹æ±‚å¿ƒç†è«®è©¢æˆ–è«®è©¢å°ˆæ¥­é†«å¸«</td>
        </tr>
        <tr>
          <td>15åˆ†ä»¥ä¸Š</td>
          <td>é‡åº¦æƒ…ç·’å›°æ“¾ï¼Œå»ºè­°ä½ è«®è©¢å°ˆæ¥­é†«å¸«</td>
        </tr>
        <tr>
          <th>ç¬¬6é¡Œ</th>
          <th>èªªæ˜</th>
        </tr>
        <tr>
          <td>2åˆ†ä»¥ä¸Š</td>
          <td>å»ºè­°ä½ å°‹æ±‚å¿ƒç†è«®è©¢æˆ–è«®è©¢å°ˆæ¥­é†«å¸«</td>
        </tr>
      </table>
    </section>

    <footer>
      <details style="text-align: right;">
        <summary style="outline: none">ğŸ”¶é—œæ–¼æ­¤ç¶²é çš„è³‡è¨Š</summary>
        <p>æ­¤ç¶²é è£½ä½œè€…ï¼šè‡¨åºŠå¿ƒç†å¸« æ¥Šæ·¯æƒ‡</p>
        <p>è³‡æ–™åƒè€ƒï¼šåœ‹ç«‹å°å¤§é†«å­¸é™¢ç²¾ç¥ç§‘æ•™æˆæš¨ç²¾ç¥éƒ¨ä¸»æ²»é†«å¸« ææ˜æ¿±é†«å¸«</p>
        <p>ç›¸é—œç¶²ç«™ï¼š<a href="https://www.tsos.org.tw/web/page/bsrs"style='text-decoration:none; color: #2F4F4F' >ç¤¾åœ˜æ³•äººå°ç£è‡ªæ®ºé˜²æ²»å­¸æœƒ-å¿ƒæƒ…æº«åº¦è¨ˆå°ˆå€</a></p>
      </details>
    </footer>

    <script>
      document.querySelectorAll('input').forEach(el=>{
        el.addEventListener('change',update)
      })

      function update(){
        //let inputs = document.querySelectorAll('input[type=radio]:checked');
        let inputs = document.querySelectorAll('[name=item1]:checked,[name=item2]:checked,[name=item3]:checked,[name=item4]:checked,[name=item5]:checked');
        let inputsArr = [];
        inputs.forEach(el => {
          inputsArr.push(el.value)
          inputsArr = inputsArr.map(el=>parseInt(el))
        })

        if(inputsArr.length>0){
          let sum1to5 = inputsArr.reduce((acc,cur)=>acc+cur);
          document.querySelector('#sum').textContent = sum1to5;

          let text;
          if(sum1to5<6){
            text = 'èº«å¿ƒé©æ‡‰ç‹€æ³è‰¯å¥½';
          }else if(sum1to5<10){
            text = 'è¼•åº¦æƒ…ç·’å›°æ“¾ï¼Œä½ å¯ä»¥æ‰¾è¦ªå‹è«‡è«‡ã€åšä¸€äº›å¯ä»¥æŠ’ç™¼æƒ…ç·’çš„æ´»å‹•';
          }else if(sum1to5<15){
            text = 'ä¸­åº¦æƒ…ç·’å›°æ“¾ï¼Œå»ºè­°ä½ å°‹æ±‚å¿ƒç†è«®è©¢æˆ–è«®è©¢å°ˆæ¥­é†«å¸«';
          }else{
            text = 'é‡åº¦æƒ…ç·’å›°æ“¾ï¼Œå»ºè­°ä½ è«®è©¢å°ˆæ¥­é†«å¸«';
          }
          document.querySelector('#res').textContent = 'âœ”ï¸ '+ text+'ã€‚';

          if(sum1to5>=10){
            document.querySelector('.results').style.background = 'Pink'
          }else{
            document.querySelector('.results').style.background = 'rgb(239, 247, 235)'
          }
        }
        let suicideInput = document.querySelector('[name=item6]:checked');
        if(suicideInput){
          let suicideScore = parseInt(suicideInput.value);
          let suicideText;

          if(suicideScore >= 2){
            suicideText = 'âœ”ï¸ ç¬¬6é¡Œç‚º2åˆ†ä»¥ä¸Šï¼Œå»ºè­°ä½ å°‹æ±‚å¿ƒç†è«®è©¢æˆ–è«®è©¢å°ˆæ¥­é†«å¸«ã€‚'
          }else{
            suicideText = ''
          }
          document.querySelector('#sui').textContent = suicideText;
        }
      }
    </script>


</body>
</html>