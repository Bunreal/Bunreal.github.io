(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af10c77"],{"276e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("navigation",{attrs:{userId:t.currentUser.id}}),a("div",{staticClass:"main"},[a("userTitle",{attrs:{userName:t.user.name}}),a("navTabsFollow",{attrs:{userId:t.$route.params.id}}),a("div",{staticClass:"tweet-wrap"},t._l(t.followships,(function(e){return a("div",{key:e.id,staticClass:"tweet-card"},[a("div",{staticClass:"tweet-avatar"},[a("img",{attrs:{src:t._f("emptyAvatar")(e.avatar),alt:""}})]),a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"tweet-title"},[a("div",{staticClass:"tweet-name-group"},[a("p",{staticClass:"tweet-name"},[a("b",[t._v(t._s(e.name))])]),a("div",{staticClass:"btn active"},[t._v("正在跟隨")])])]),a("div",{staticClass:"tweet-text"},[a("p",[t._v(" "+t._s(e.introduction)+" ")])])])])})),0)],1),a("followTop")],1)},s=[],n=a("5530"),i=a("2909"),o=a("1da1"),c=(a("96cf"),a("b0c0"),a("3d01")),l=a("447a"),u=a("8e6e"),d=a("477d"),f=a("2708"),w=a("1602"),h=a("2f62"),v=a("2fa3"),p={name:"selfPageFollower",components:{navigation:c["a"],followTop:l["a"],userTitle:u["a"],navTabsFollow:d["a"]},data:function(){return{user:{name:"",tweetNum:-1},followships:[]}},methods:{fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,s,n,i,o,c,l,u,d,f,h,v,p,m,g;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w["a"].getUser(t);case 3:r=a.sent,s=r.data.data.user,n=s.id,i=s.account,o=s.name,c=s.email,l=s.role,u=s.introduction,d=s.avatar,f=s.cover,h=s.followingCount,v=s.followerCount,p=s.isFollowing,m=s.createdAt,g=s.updatedAt,e.user={id:n,account:i,name:o,email:c,role:l,introduction:u,avatar:d,cover:f,followingCount:h,followerCount:v,isFollowing:p,createdAt:m,updatedAt:g},a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),console.log("error",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},fetchUserFollower:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w["a"].getUserFollowers(t);case 3:r=a.sent,console.log(r),e.followships=Object(i["a"])(r.data.data.user[0].Followers),e.followships.length<1&&v["a"].fire({icon:"info",title:"沒有人正在追蹤這個人"}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log("error",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},isThisMe:function(t){this.isMe=this.currentUser.id==t}},computed:Object(n["a"])({},Object(h["b"])(["currentUser"])),created:function(){var t=localStorage.getItem("token");t||(v["a"].fire({icon:"warning",title:"請登入"}),this.$router.push("/login"));var e=this.$route.params.id;this.fetchUser(e),this.fetchUserFollower(e),this.isThisMe(e)},watch:{"$route.params.id":{handler:function(t){this.fetchUser(t),this.fetchUserFollower(t),this.isThisMe(t)},immediate:!0}},mixins:[f["b"],f["a"]]},m=p,g=(a("a563"),a("2998"),a("2877")),b=Object(g["a"])(m,r,s,!1,null,"376636ed",null);e["default"]=b.exports},2998:function(t,e,a){"use strict";a("dec2")},"3d206":function(t,e,a){},"477d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",t._l(t.tabs,(function(e){return a("li",{key:e.id,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)},s=[],n={props:{userId:{type:String,required:!0}},data:function(){return{tabs:[{id:1,title:"跟隨者",path:"/user/".concat(this.userId,"/Follower")},{id:2,title:"正在跟隨",path:"/user/".concat(this.userId,"/Following")}]}}},i=n,o=(a("6929"),a("2877")),c=Object(o["a"])(i,r,s,!1,null,"417ef6ba",null);e["a"]=c.exports},6929:function(t,e,a){"use strict";a("3d206")},a563:function(t,e,a){"use strict";a("b9a1")},b9a1:function(t,e,a){},dec2:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5af10c77.59cf5db0.js.map