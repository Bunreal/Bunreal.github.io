(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b79a9d0"],{"611e":function(e,t,a){"use strict";a("6a06")},"6a06":function(e,t,a){},ab60:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("navigation",{attrs:{userId:e.currentUser.id}}),a("div",{staticClass:"main"},[a("userTitle",{attrs:{userName:e.user.name,tweetNum:2}}),e.isMe?a("userInfo",{attrs:{"initial-user":e.user}}):a("userInfoOther",{attrs:{"initial-user":e.user}}),a("navTabs",{attrs:{userId:e.$route.params.id}}),a("div",{staticClass:"tweet-wrap"},e._l(e.replies,(function(t){return a("div",{key:t.id,staticClass:"tweet-card"},[a("div",{staticClass:"tweet-avatar"},[a("img",{attrs:{src:e._f("emptyAvatar")(e.user.avatar),alt:""}})]),a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"tweet-name-group"},[a("p",{staticClass:"tweet-name"},[a("b",[e._v(e._s(e.user.name))])]),a("p",{staticClass:"tweet-account fz14"},[e._v(" @"+e._s(e.user.account)+"・"+e._s(e._f("fromNow")(t.createdAt))+" ")])]),e._m(0,!0),a("router-link",{staticClass:"tweet-text",attrs:{to:{name:"tweet",params:{id:t.TweetId}}}},[a("p",[e._v(" "+e._s(t.comment)+" ")])])],1)])})),0)],1),a("followTop")],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"fz14"},[a("span",{staticClass:"reply-title"},[e._v("回覆")]),a("span",{staticClass:"reply-account"},[e._v(" @apple")])])])}],n=a("5530"),i=a("2909"),o=a("1da1"),c=(a("96cf"),a("b0c0"),a("3d01")),u=a("447a"),l=a("5372"),f=a("87fa"),d=a("8e6e"),p=a("fc26"),m=a("1602"),v=a("2f62"),h=a("2708"),w=a("2fa3"),g={name:"mainPage",components:{navigation:c["a"],followTop:u["a"],userInfo:l["a"],userTitle:d["a"],navTabs:p["a"],userInfoOther:f["a"]},data:function(){return{user:{id:-1,account:"",name:"",role:"",introduction:"",avatar:"https://dummyimage.com/600x400/a1a1a1/fff.jpg&text=+",cover:"https://dummyimage.com/600x400/a1a1a1/fff.jpg&text=+",followingCount:-1,followerCount:-1,isFollowing:!1},replies:[],isMe:!0}},methods:{fetchUser:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,s,n,i,o,c,u,l,f,d,p,v,h,w,g,C;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m["a"].getUser(e);case 3:r=a.sent,s=r.data.data.user,n=s.id,i=s.account,o=s.name,c=s.email,u=s.role,l=s.introduction,f=s.avatar,d=s.cover,p=s.isFollowing,v=s.createdAt,h=s.updatedAt,w=r.data.data,g=w.followingCount,C=w.followerCount,t.user={id:n,account:i,name:o,email:c,role:u,introduction:l,avatar:f,cover:d,followingCount:g,followerCount:C,isFollowing:p,createdAt:v,updatedAt:h},a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log("error",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},fetchUserReplies:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m["a"].getUserReplies(e);case 3:r=a.sent,console.log(r),t.replies=Object(i["a"])(r.data.data.replies),t.replies.length<1&&w["a"].fire({icon:"info",title:"目前沒有回覆的內容"}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},isThisMe:function(e){this.isMe=this.currentUser.id==e}},computed:Object(n["a"])({},Object(v["b"])(["currentUser"])),created:function(){var e=localStorage.getItem("token");e||(w["a"].fire({icon:"warning",title:"請登入"}),this.$router.push("/login"));var t=this.$route.params.id;this.fetchUser(t),this.fetchUserReplies(t),this.isThisMe(t)},watch:{"$route.params.id":{handler:function(e){this.fetchUser(e),this.fetchUserReplies(e),this.isThisMe(e)},immediate:!0}},mixins:[h["b"],h["a"]]},C=g,b=(a("611e"),a("2877")),_=Object(b["a"])(C,r,s,!1,null,"20394cd7",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-3b79a9d0.cb7baa0f.js.map