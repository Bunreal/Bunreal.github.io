(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67d755b7"],{1602:function(t,e,n){"use strict";var r=n("2fa3"),o=function(){return localStorage.getItem("token")};e["a"]={getUser:function(t){return r["b"].get("/api/users/".concat(t),{headers:{Authorization:"Bearer ".concat(o())}})},getUserTweets:function(t){return r["b"].get("/api/users/".concat(t,"/tweets"),{headers:{Authorization:"Bearer ".concat(o())}})},getUserReplies:function(t){return r["b"].get("/api/users/".concat(t,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(o())}})},getUserLikes:function(t){return r["b"].get("/api/users/".concat(t,"/likes"),{headers:{Authorization:"Bearer ".concat(o())}})},getUserFollowers:function(t){return r["b"].get("/api/users/".concat(t,"/followers"),{headers:{Authorization:"Bearer ".concat(o())}})},getUserFollowings:function(t){return r["b"].get("/api/users/".concat(t,"/followings"),{headers:{Authorization:"Bearer ".concat(o())}})},addLike:function(t){var e=t.tweetId;return r["b"].post("/api/tweets/".concat(e,"/like"),null,{headers:{Authorization:"Bearer ".concat(o())}})},unLike:function(t){var e=t.tweetId;return r["b"].post("/api/tweets/".concat(e,"/unlike"),null,{headers:{Authorization:"Bearer ".concat(o())}})},getTop:function(t){return r["b"].get("/api/users/".concat(t,"/top10"),{headers:{Authorization:"Bearer ".concat(o())}})}}},"1cab":function(t,e,n){},"3b59":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"popupTweet-wrap"},[r("div",{staticClass:"overlay",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePopupTweet.apply(null,arguments)}}}),r("div",{staticClass:"popupTweet"},[r("div",{staticClass:"popupTweet-colse"},[r("div",{staticClass:"popupTweet-colse-img",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closePopupTweet.apply(null,arguments)}}},[r("img",{attrs:{src:n("3e02"),alt:""}})])]),r("div",{staticClass:"popupTweet-text-wrap"},[r("div",{staticClass:"popupTweet-text"},[r("div",{staticClass:"popupTweet-avatar"},[r("img",{attrs:{src:t._f("emptyImage")(t.user.avatar),alt:""}})]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.popupText,expression:"popupText"}],attrs:{name:"description",id:"",maxlength:"140",placeholder:"有什麼新鮮事？"},domProps:{value:t.popupText},on:{input:function(e){e.target.composing||(t.popupText=e.target.value)}}})]),r("div",{staticClass:"popupTweet-btn-wrap"},[t.popupText.length>=140?r("div",{staticClass:"post-text-num-warning"},[t._v(" 字數不可超過 140 字 ")]):t._e(),t.noZero?r("div",{staticClass:"post-text-num-warning"},[t._v("不得為空白")]):t._e(),r("div",{staticClass:"btn popupTweet-btn active",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 推文 ")])])])])])},o=[],a=(n("498a"),n("2708")),i={name:"popupTweet",props:{user:{type:Object,required:!0}},data:function(){return{popupText:"",noZero:!1}},watch:{popupText:function(){this.popupText&&(this.noZero=!1)}},methods:{closePopupTweet:function(){this.$emit("close-PopupTweet",{isClickPopupReplyTweet:!1})},handleSubmit:function(){this.popupText.trim()?this.$emit("after-create-tweet",{description:this.popupText}):this.noZero=!0}},mixins:[a["a"]]},s=i,c=(n("c6f0"),n("2877")),u=Object(c["a"])(s,r,o,!1,null,"6b96be66",null);e["a"]=u.exports},"3d01":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav"},[t.isClickPopupTweet?r("popupTweet",{on:{"close-PopupTweet":t.closePopupTweet}}):t._e(),r("router-link",{staticClass:"logo",attrs:{to:"/tweets"}},[r("img",{attrs:{src:n("9d64"),alt:""}})]),r("div",{staticClass:"nav-btn-group"},[r("router-link",{staticClass:"nav-btn",attrs:{to:"/tweets"}},[r("div",{staticClass:"nav-btn-img nav-btn-home-img"}),r("h5",[t._v("首頁")])]),r("router-link",{staticClass:"nav-btn",attrs:{to:{name:"SelfPage",params:{id:t.userId}}}},[r("div",{staticClass:"nav-btn-img nav-btn-user-img"}),r("h5",[t._v("個人資料")])]),r("router-link",{staticClass:"nav-btn",attrs:{to:"/setting"}},[r("div",{staticClass:"nav-btn-img nav-btn-setting-img"}),r("h5",[t._v("設定")])])],1),r("div",{staticClass:"btn nav-btn-tweet",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openPopupTweet.apply(null,arguments)}}},[t._v(" 推文 ")]),r("div",{staticClass:"nav-btn-group-bottom"},[r("div",{staticClass:"nav-btn-group btn-bottom",on:{click:t.logOut}},[r("router-link",{staticClass:"nav-btn",attrs:{to:"/login"}},[r("div",{staticClass:"nav-btn-img nav-btn-left-img"}),r("h5",[t._v("登出")])])],1)])],1)},o=[],a=(n("a9e3"),n("3b59")),i={name:"navigation",components:{popupTweet:a["a"]},props:{userId:{type:Number,required:!0}},data:function(){return{isClickPopupTweet:!1}},methods:{openPopupTweet:function(){this.$emit("after-open-tweet",{isClickPopupTweet:!0})},closePopupTweet:function(t){var e=t.isClickPopupTweet;this.isClickPopupTweet=e},logOut:function(){localStorage.removeItem("token")}}},s=i,c=(n("926a"),n("2877")),u=Object(c["a"])(s,r,o,!1,null,"6cabff17",null);e["a"]=u.exports},"3e02":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADdSURBVHgB7ZTLEYMgGIQXJ5M6aIVOOKaLtOGRTmyFMjIeTHg4GQO/sObixZ3xMcDuJ/ALcOlsqbLhbaFxh8UMpxw8CLU8QzU6DgSe4TklIxc+rR5b9teAAS7cfbh0D7IJ18mTvT9SovERDMvGOMOUUxfCjRrrJRUBPQgb3gTsQVIHGd4FiJAsKpwCCBCw4VEDGL3INkH9JSo3NCu/C9V1CCBVS+rolDAFaJUi8580AUydsxD1T/gRyN5h1w1PXzd+98UD64la6Fa54oG15CdT53FMmIkJHisddpfO1weWhotGVzGmkQAAAABJRU5ErkJggg=="},"408a":function(t,e,n){var r=n("e330");t.exports=r(1..valueOf)},"447a":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"followTop"},[t._m(0),t._l(t.tops,(function(e){return n("div",{key:e.is,staticClass:"followTop-wrap"},[n("div",{staticClass:"followTop-card"},[n("router-link",{staticClass:"followTop-avatar",attrs:{to:{name:"SelfPage",params:{id:e.id}}}},[n("img",{attrs:{src:t._f("emptyImage")(e.avatar),alt:""}})]),n("router-link",{staticClass:"followTop-name-wrap",attrs:{to:{name:"SelfPage",params:{id:e.id}}}},[n("p",{staticClass:"followTop-name"},[n("b",[t._v(t._s(e.name))])]),n("p",{staticClass:"fz14 followTop-account"},[t._v("@"+t._s(e.account))])]),e.isFollowing?n("div",{staticClass:"followTop-btn-wrap",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.unFollow(e.id)}}},[n("div",{staticClass:"btn active followTop-btn"},[t._v("正在跟隨")])]):t._e(),e.isFollowing?t._e():n("div",{staticClass:"followTop-btn-wrap",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.addFollow(e.id)}}},[n("div",{staticClass:"btn followTop-btn"},[t._v("跟隨")])])],1)])}))],2)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"followTop-title"},[n("h4",[t._v("跟隨誰")])])}],a=n("5530"),i=n("1da1"),s=(n("96cf"),n("a9e3"),n("d81d"),n("1602")),c=n("2fa3"),u=function(){return localStorage.getItem("token")},p={addFollow:function(t){var e=t.id;return c["b"].post("/api/followships",{id:e},{headers:{Authorization:"Bearer ".concat(u())}})},unFollow:function(t){var e=t.followingId;return c["b"].delete("/api/followships/".concat(e),{headers:{Authorization:"Bearer ".concat(u())}})}},l=n("2708"),f={props:{userId:{type:Number}},data:function(){return{tops:{}}},methods:{featchTop:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s["a"].getTop(t);case 3:r=n.sent,o=r.data,e.tops=o,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),c["a"].fire({icon:"error",title:"無法取得Tops資料，請稍後再試"});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},addFollow:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.addFollow({id:t});case 3:r=n.sent,console.log(r),o=r.data,console.log(o),e.tops=e.tops.map((function(e){return e.id===t?Object(a["a"])(Object(a["a"])({},e),{},{isFollowing:!0}):e})),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),c["a"].fire({icon:"error",title:"無法follow此人，請稍後再試"});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},unFollow:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,console.log("id",t),n.next=4,p.unFollow({followingId:t});case 4:r=n.sent,console.log("dataUnFollow",r),e.tops=e.tops.map((function(e){return e.id===t?Object(a["a"])(Object(a["a"])({},e),{},{isFollowing:!1}):e})),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),c["a"].fire({icon:"error",title:"無法unFollow此人，請稍後再試"});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},created:function(){this.featchTop(this.userId)},mixins:[l["a"]]},d=f,v=(n("6a16"),n("2877")),g=Object(v["a"])(d,r,o,!1,null,"acfd1f62",null);e["a"]=g.exports},"498a":function(t,e,n){"use strict";var r=n("23e7"),o=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("e330"),o=n("1d80"),a=n("577e"),i=n("5899"),s=r("".replace),c="["+i+"]",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),l=function(t){return function(e){var n=a(o(e));return 1&t&&(n=s(n,u,"")),2&t&&(n=s(n,p,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"69e7":function(t,e,n){},"6a16":function(t,e,n){"use strict";n("b552")},7156:function(t,e,n){var r=n("1626"),o=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var i,s;return a&&r(i=e.constructor)&&i!==n&&o(s=i.prototype)&&s!==n.prototype&&a(t,s),t}},"926a":function(t,e,n){"use strict";n("1cab")},a9e3:function(t,e,n){"use strict";var r=n("83ab"),o=n("da84"),a=n("e330"),i=n("94ca"),s=n("cb2d"),c=n("1a2d"),u=n("7156"),p=n("3a9b"),l=n("d9b5"),f=n("c04e"),d=n("d039"),v=n("241c").f,g=n("06cf").f,b=n("9bf2").f,w=n("408a"),m=n("58a8").trim,h="Number",T=o[h],A=T.prototype,C=o.TypeError,k=a("".slice),x=a("".charCodeAt),E=function(t){var e=f(t,"number");return"bigint"==typeof e?e:y(e)},y=function(t){var e,n,r,o,a,i,s,c,u=f(t,"number");if(l(u))throw C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=m(u),e=x(u,0),43===e||45===e){if(n=x(u,2),88===n||120===n)return NaN}else if(48===e){switch(x(u,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=k(u,2),i=a.length,s=0;s<i;s++)if(c=x(a,s),c<48||c>o)return NaN;return parseInt(a,r)}return+u};if(i(h,!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var I,_=function(t){var e=arguments.length<1?0:T(E(t)),n=this;return p(A,n)&&d((function(){w(n)}))?u(Object(e),n,_):e},S=r?v(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),P=0;S.length>P;P++)c(T,I=S[P])&&!c(_,I)&&b(_,I,g(T,I));_.prototype=A,A.constructor=_,s(o,h,_)}},ab36:function(t,e,n){var r=n("861d"),o=n("9112");t.exports=function(t,e){r(e)&&"cause"in e&&o(t,"cause",e.cause)}},aeb0:function(t,e,n){var r=n("9bf2").f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},b552:function(t,e,n){},b980:function(t,e,n){var r=n("d039"),o=n("5c6c");t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},c6f0:function(t,e,n){"use strict";n("69e7")},c770:function(t,e,n){var r=n("e330"),o=Error,a=r("".replace),i=function(t){return String(o(t).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=a(t,s,"");return t}},c8d2:function(t,e,n){var r=n("5e77").PROPER,o=n("d039"),a=n("5899"),i="​᠎";t.exports=function(t){return o((function(){return!!a[t]()||i[t]()!==i||r&&a[t].name!==t}))}},d81d:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").map,a=n("1dde"),i=a("map");r({target:"Array",proto:!0,forced:!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},d9e2:function(t,e,n){var r=n("23e7"),o=n("da84"),a=n("2ba4"),i=n("e5cb"),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,p=function(t,e){var n={};n[t]=i(t,e,u),r({global:!0,arity:1,forced:u},n)},l=function(t,e){if(c&&c[t]){var n={};n[t]=i(s+"."+t,e,u),r({target:s,stat:!0,arity:1,forced:u},n)}};p("Error",(function(t){return function(e){return a(t,this,arguments)}})),p("EvalError",(function(t){return function(e){return a(t,this,arguments)}})),p("RangeError",(function(t){return function(e){return a(t,this,arguments)}})),p("ReferenceError",(function(t){return function(e){return a(t,this,arguments)}})),p("SyntaxError",(function(t){return function(e){return a(t,this,arguments)}})),p("TypeError",(function(t){return function(e){return a(t,this,arguments)}})),p("URIError",(function(t){return function(e){return a(t,this,arguments)}})),l("CompileError",(function(t){return function(e){return a(t,this,arguments)}})),l("LinkError",(function(t){return function(e){return a(t,this,arguments)}})),l("RuntimeError",(function(t){return function(e){return a(t,this,arguments)}}))},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),a=n("da84"),i=n("e330"),s=n("1a2d"),c=n("1626"),u=n("3a9b"),p=n("577e"),l=n("9bf2").f,f=n("e893"),d=a.Symbol,v=d&&d.prototype;if(o&&c(d)&&(!("description"in v)||void 0!==d().description)){var g={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:p(arguments[0]),e=u(v,this)?new d(t):void 0===t?d():d(t);return""===t&&(g[e]=!0),e};f(b,d),b.prototype=v,v.constructor=b;var w="Symbol(test)"==String(d("test")),m=i(v.toString),h=i(v.valueOf),T=/^Symbol\((.*)\)[^)]+$/,A=i("".replace),C=i("".slice);l(v,"description",{configurable:!0,get:function(){var t=h(this),e=m(t);if(s(g,t))return"";var n=w?C(e,7,-1):A(e,T,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:b})}},e391:function(t,e,n){var r=n("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},e5cb:function(t,e,n){"use strict";var r=n("d066"),o=n("1a2d"),a=n("9112"),i=n("3a9b"),s=n("d2bb"),c=n("e893"),u=n("aeb0"),p=n("7156"),l=n("e391"),f=n("ab36"),d=n("c770"),v=n("b980"),g=n("83ab"),b=n("c430");t.exports=function(t,e,n,w){var m="stackTraceLimit",h=w?2:1,T=t.split("."),A=T[T.length-1],C=r.apply(null,T);if(C){var k=C.prototype;if(!b&&o(k,"cause")&&delete k.cause,!n)return C;var x=r("Error"),E=e((function(t,e){var n=l(w?e:t,void 0),r=w?new C(t):new C;return void 0!==n&&a(r,"message",n),v&&a(r,"stack",d(r.stack,2)),this&&i(k,this)&&p(r,this,E),arguments.length>h&&f(r,arguments[h]),r}));if(E.prototype=k,"Error"!==A?s?s(E,x):c(E,x,{name:!0}):g&&m in C&&(u(E,C,m),u(E,C,"prepareStackTrace")),c(E,C),!b)try{k.name!==A&&a(k,"name",A),k.constructor=E}catch(y){}return E}}}}]);
//# sourceMappingURL=chunk-67d755b7.5e95cfa9.js.map